<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        
        <script>
            function selectElement(e) {
                var targ;
                if (!e) {
                    var e = window.event;
                }
                if (e.target) {
                    targ = e.target;
                } else if (e.srcElement) {
                    targ = e.srcElement;
                }
                var tname;
                tname = targ.name;
                window.location = 'reservationpage?id=' + tname;
                

            }
        </script>
    
        <title>Movie page</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            p {
                color: rgb(250, 212, 190);
                text-align: center;
            }

            body{
                background-color: rgb(4, 27, 26);
                color: rgb(235, 198, 206);
            }

        </style>

    </head>
    <body th:object="${movie}">
        
        <h1 align = "center" th:text="${movie.title}"></h1>
        <table width = "60%" align = "center">

            
            <td><img th:src="@{${movie.imageLink}}" th:name="${movie.id}"/></td>
            <td valign="top" th:text="${movie.description}" > 
            </td>


             <button type="button">Jegyfoglalás</button>

            <table border = "1" width = "60%" align = "center">
                <tr>
                    <td>Category: </td>       
                    <td>Action, Sci-fi </td>
                </tr>
                <tr>
                    <td>Director: </td>
                    <td th:text="${movie.director.name}"> </td>
                </tr>
                <tr>
                    <td>Length: </td>
                 <td th:text="${movie.movieLength}"> </td>
                </tr>
                <tr>
                    <td>Rating: </td>
                    <td th:text="${movie.rating}"> </td>
                </tr>
                

                


            </table>
             
                     <table>

            <tbody>
                <tr th:if="${movie.screenings.empty}">
                    <td colspan="2"> No Movies Available </td>
                </tr>
                <tr th:each="screening : ${movie.screenings}">
                    <td><span th:text="${screening.id}"> Title </span></td>
                    <td><button type="button" th:name="${screening.id}" onclick="selectElement(event)">Ez kell nekem!</button> </td>
                    
                </tr>
            </tbody>
        </table>

            <button type="button">Vissza a Főoldalra</button>
    </body>
</html>

